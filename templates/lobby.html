{% extends 'base.html' %}

<!-- Navigation links -->
{% block nav_items %}
<li><a href="/">Exit<i class="fas fa-home ml-2"></i></a></li>
{% endblock %}

{% block content %}

<h2 class="text-center mt-3 mb-2">{{ quiz.quizName }}</h2>
<h6 class="m-0 text-secondary text-center mb-3">Lobby</h6>
<hr class="mb-2">


<div class="d-flex justify-content-center">
    <div class="enter-container">
        <div class="container-fluid p-0">
            <h5 class="text-center my-2 mb-3">Please select your name and enter!</h5>
            <form method="POST" class="mt-2">
                <select name="username" class="form-control">
                    {% for user in range(quiz.userCount) %}
                    <option>{{ quiz.usersNames[user] }}</option>
                    {% endfor %}
                </select>
                <button type="submit" class="btn btn-success form-control mt-3">Enter</button>
            </form>
            <p class="my-3">Invite participants with the following link.</p>
            <input type="text" id="myInput" value="" class="form-control mt-3">
            <button onclick="copyText()" class="container-fluid btn btn-info mt-3">Copy Invite Link</button>       
        </div>
    </div>
</div>

{% endblock %}

{% block js_content %}
    <!-- Js to copy the invite link -->
    <script>
        $(document).ready(function() {
            $('#myInput').attr('value', 'You have been invited to a quiz, please join by clicking the following link: '.concat(document.URL));
        })
        function copyText() {
        var copyText = document.getElementById("myInput");
        copyText.select();
        copyText.setSelectionRange(0, 99999)
        document.execCommand("copy");
        }
    </script>
{% endblock %}